<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<panel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="/Users/king/NetBeansProjects/yummy-xml-UI/xml-UI/schema/WindowXmlSchema.xsd">
<!--    1、调用挂号预处理-->
<!--    2、调用医保预结算， 返回自付金额-->
<!--    3、调用检查自付金额是否等于0.00，如果自付金额等于0.00则调用医保结算和门诊结算-->
<!--    4、如果自付金额不等于0.00，则查询院内账户余额是否大于等于自付金额，如果小于自付金额则报错提示进行院内账户的充值-->
<!--    5、如果院内账户余额大于自付金额，则调用医保结算和门诊结算交易-->
<!--    6、如果门诊结算交易失败，则需要调用挂号取消交易和医保结算冲正交易，然后提示交易失败-->
<!--    7、医保结算失败的情况下，需要调用挂号取消交易，然后报错结束交易-->
    <id>40104</id>
    <type>Panel</type>
    <active>false</active>
    <background>/image/2.png</background>
    <component>
        <id>4010402</id>
        <type>Label</type>
        <attribute>
            <text>选择医生</text>
            <rect>
                <x>550</x>
                <y>90</y>
                <width>600</width>
                <heigh>150</heigh>
            </rect>
        </attribute>
        <action>
            <setFontAction>
                <fontSize>45</fontSize>
            </setFontAction>
        </action>
    </component>

    <component>
        <id>4010403</id>
        <type>Button</type>
        <attribute>
            <text>返回</text>
            <rect>
                <x>943</x>
                <y>860</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
        <action>
            <jumpPanelAction>
                <nextPanel>40</nextPanel>
            </jumpPanelAction>
        </action>
        <action>
             <cleanAction>
                <conditions>4010203,4010205,4010207,4010209,4010212,4010214,4010224,4010219,4010220,4010221,4010304,4010404,4010406,4010407,4010409,4010420,4010424,4010425,4010426,4010427</conditions>
            </cleanAction>
        </action>
    </component>
    <component>
        <id>4010404</id>
        <type>Grid</type>
        <attribute>
            <rect>
                <x>100</x>
                <y>200</y>
                <width>1200</width>
                <heigh>600</heigh>
            </rect>
        </attribute>
        <action>
            <showGridAction>
                <row>4</row>
                <column>4</column>
                <hgap>150</hgap>
                <vgap>60</vgap>
                <misc>
					<bgColor>30,144,255</bgColor> 
				</misc>
            </showGridAction>
        </action>
        <!-- <action>
            <setFontAction>
                <fontSize>22</fontSize>
            </setFontAction>
        </action>-->
    </component>
    
   <component>
        <id>4010405</id>
        <type>Button</type>
        <attribute>
            <text>下一步</text>
            <rect>
                <x>643</x>
                <y>860</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
        <action>
        	<!--挂号预处理-->
            <sendMsgAction>
                <prsCode>execute_guahaoyuchuli_yibao</prsCode>
                <conditions>4010203,4010205,4010207,4010209,4010212,4010304,4010404,4010219,4010220,4010221</conditions>
                <nextStep>
                    <nextPanel>40104</nextPanel>
                    <display>4010406,4010407,4010409,4010455</display>
                    <trigger>4010408</trigger>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </exception>
                <checkRules>
                    <notNull>
                        <content>4010404</content>
                        <errMsg>请选择号源</errMsg>
                    </notNull>
                </checkRules>
            </sendMsgAction>
        </action>
    </component>
     <!--返回的挂号ID-->
        <component>
        <id>4010406</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1400</x>
                <y>1400</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
    <!--返回的结算ID-->
    <component>
        <id>4010407</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1500</x>
                <y>1500</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    <!--返回的挂号费-->
    <component>
        <id>4010409</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1600</x>
                <y>1600</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
   <component>
        <id>4010408</id>
        <type>Button</type>
        <attribute>
            <text>医保预结算</text>
            <rect>
                <x>1600</x>
                <y>1600</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
          <!--调用医保预结算-->
          <action>
            <insertICardAction>
                <cardType>MedicareCard</cardType>
                <nextStep>
                    <nextPanel>40104</nextPanel>
                    <display>4010420</display>
                    <trigger>4010439</trigger>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </exception>
                <checkRules>
                    <notNull>
                        <content>4010404</content>
                        <errMsg>请选择医生</errMsg>
                    </notNull>
                </checkRules>
            	<!--<animationTip>/image/swipe.gif</animationTip>-->
            	<parameters>
            		4010415
            		4010220
            		4010407
				</parameters> 
				<display>
				   4010420
				</display>
            </insertICardAction>
        </action>
    </component>
    
   <!--只用于挂号取消-->
   <component>
        <id>4010413</id>
        <type>Button</type>
        <attribute>
            <text>挂号取消</text>
            <rect>
                <x>1700</x>
                <y>1700</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
        <action>
            <sendMsgAction>
                <prsCode>execute_quxiaoghycl_yibao</prsCode>
                <conditions>4010203,4010205,4010207,4010209,4010212,4010304,4010404,4010304,4010406,4010407,4010409</conditions>
                <nextStep>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                    <trigger>4010453</trigger>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                    <trigger>4010453</trigger>
                </exception>
            </sendMsgAction>
        </action>
    </component>
    
     <component>
        <id>4010453</id>
        <type>Button</type>
        <attribute>
            <text>医保结算冲正</text>
            <rect>
                <x>2000</x>
                <y>2000</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
   
       <!--需要对医保结算进行冲正-->
       <action>
            <insertICardAction>
                <cardType>MedicareCard</cardType>
                <nextStep>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </exception>
            	<!--<animationTip>/image/swipe.gif</animationTip>-->
            	<parameters>
            		4010419
            		4010427
				</parameters> 
				<display>
				   401897
				</display>
            </insertICardAction>
        </action>
    </component>
    
      <component>
        <id>4010414</id>
        <type>Label</type>
        <attribute>
            <rect>
                <x>2100</x>
                <y>2100</y>
                <width>600</width>
                <heigh>50</heigh>
            </rect>
            <text>提示信息:</text>
        </attribute>
        <action>
            <setFontAction>
                <fontSize>35</fontSize>
                <fontStyle>BOLD</fontStyle> <!--optional setting, valid value is BOLD/PLAIN/ITALIC -->
            </setFontAction>
        </action>
    </component>
    
      <component>
        <id>4010415</id>
        <type>Label</type>
        <attribute>
            <rect>
                <x>1400</x>
                <y>1400</y>
                <width>600</width>
                <heigh>150</heigh>
            </rect>
            <text>2102drgh</text>
        </attribute>
        <action>
            <setFontAction>
                <fontSize>45</fontSize>
            </setFontAction>
        </action>
    </component>
   
    <!--医保预结算返回的预算金额-->
   <component>
        <id>4010420</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1600</x>
                <y>1600</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
    <!--同时走医保结算和院内账户使用-->
     <component>
        <id>4010429</id>
        <type>Button</type>
        <attribute>
            <text>调用医保结算</text>
            <rect>
                <x>1600</x>
                <y>1600</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
          <!--调用医保结算-->
          <action>
            <insertICardAction>
                <cardType>MedicareCard</cardType>
                <nextStep>
                    <nextPanel>40104</nextPanel>
                    <display>4010424,4010425,4010426,4010427</display>
                    <trigger>4010449</trigger>
                </nextStep>
                <exception>
                    <nextPanel>40104</nextPanel>
                    <display>4010414</display>
                    <trigger>4010413</trigger>
                </exception>
            	<animationTip>/image/swipe.gif</animationTip>
            	<parameters>
            		4010431
            		4010220
            		4010407
				</parameters> 
				<display>
				   4010424
				   4010425
				   4010426
				   4010427
				</display>
            </insertICardAction>
        </action>
    </component>
    
    <component>
        <id>4010431</id>
        <type>Label</type>
        <attribute>
            <rect>
                <x>1400</x>
                <y>1400</y>
                <width>600</width>
                <heigh>150</heigh>
            </rect>
            <text>2103drgh</text>
        </attribute>
        <action>
            <setFontAction>
                <fontSize>45</fontSize>
            </setFontAction>
        </action>
    </component>
    
    <component>
        <id>4010438</id>
        <type>Button</type>
        <attribute>
            <text>院内账户查询-医保使用</text>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
   
        <action>
            <sendMsgAction>
                <prsCode>query_zhanghucx_ybguahao</prsCode>
                <conditions>4010431,4010220,4010407,4010203,4010207,4010304,4010404,4010424,4010425,4010426,4010221</conditions>
                <nextStep>
                    <nextPanel>40104</nextPanel>
                    <display>4010441,4010442,4010443,4010444,4010445</display>
                    <trigger>4010440</trigger>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </exception>
            </sendMsgAction>
        </action> 
    </component>
    
   <component>
        <id>4010439</id>
        <type>Button</type>
        <attribute>
            <text>判断自付金额是否等于0，如果等于0表示医保足够支付，不需要使用院内账户，进行重定向</text>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
   
        <action>
            <sendMsgAction>
                <prsCode>sim_zifuamt_iszero</prsCode>
                <conditions>4010420</conditions>
                <nextStep>
                    <nextPanel>40104</nextPanel>
                    <display>4010435</display>
                </nextStep>
                <exception>
                	<nextPanel>401899</nextPanel>
                    <display>401897</display>
                    <!-- <nextPanel>40104</nextPanel>
                    <display>4010435</display>
                   <trigger>4010438</trigger>-->
                </exception>
            </sendMsgAction>
        </action> 
    </component>
    
     <component>
        <id>4010440</id>
        <type>Button</type>
        <attribute>
            <text>判断院内账户余额是否满足支付，前置根据条件做重定</text>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
   
        <action>
            <sendMsgAction>
                <prsCode>sim_check_money</prsCode>
                <conditions>4010431,4010220,4010407,4010203,4010207,4010304,4010404,4010420,4010424,4010425,4010426,4010443</conditions>
                <nextStep>
                    <nextPanel>40104</nextPanel>
                    <display>4010435</display>
                    <trigger>4010429</trigger>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </exception>
            </sendMsgAction>
        </action> 
    </component>
    
<!--4010431  交易码2103-->
<!--4010220  病人ID-->
<!--4010407  结算ID-->
<!--4010203  姓名-->
<!--4010207  医保卡号-->
<!--4010304  科室信息-->
<!--4010404  医生号源信息-->

     <component>
        <id>4010421</id>
        <type>Button</type>
        <attribute>
            <text>请求打印</text>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
   
        <action>
            <sendMsgAction>
                <prsCode>req_sim_print</prsCode>
                <conditions>4010431,4010220,4010407,4010203,4010207,4010304,4010404,4010424,4010425,4010426</conditions>
                <nextStep>
                    <nextPanel>401888</nextPanel>
                    <display>401886</display>
                    <trigger>401882</trigger>
                </nextStep>
                <exception>
                    <nextPanel>401899</nextPanel>
                    <display>401897</display>
                </exception>
            </sendMsgAction>
        </action> 
    </component>
    
    <!--医保结算返回的交易流水号-->
     <component>
        <id>4010424</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    <!--医保结算返回的医保结算ID-->
     <component>
        <id>4010425</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>2000</x>
                <y>2000</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
     <!--医保结算返回的需自付金额-->
     <component>
        <id>4010426</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>2000</x>
                <y>2000</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
     <!--医保结算返回的发票ID-->
     <component>
        <id>4010427</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>2000</x>
                <y>2000</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
     <!--医保卡院内账户查询返回姓名-->
     <component>
        <id>4010441</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
     <!--医保卡院内账户查询返回就诊卡卡号-->
     <component>
        <id>4010442</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
     <!--医保卡院内账户查询返回当前余额-->
     <component>
        <id>4010443</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
     <!--医保卡院内账户查询返回联系电话-->
     <component>
        <id>4010444</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
    <!--医保卡院内账户查询返回身份证号-->
     <component>
        <id>4010445</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>1900</x>
                <y>1900</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
    <component>
        <id>4010449</id>
        <type>Button</type>
        <attribute>
            <text>HIS结算</text>
            <rect>
                <x>1600</x>
                <y>1600</y>
                <width>250</width>
                <heigh>80</heigh>
            </rect>
        </attribute>
       <!--调用HIS结算-->
        <action>
            <sendMsgAction>
                <prsCode>execute_menzhenjs_drgh_yibao</prsCode>
                <conditions>4010203,4010205,4010207,4010209,4010212,4010304,4010404,4010406,4010407,4010409,4010426,4010219,4010220,4010221,4010420,4010455</conditions>
                <nextStep>
                    <nextPanel>401888</nextPanel>
                    <display>401886</display>
                    <trigger>401882</trigger>
                </nextStep>
                <exception>
                    <nextPanel>40104</nextPanel>
                    <display>4010414</display>
                    <trigger>4010413</trigger>
                </exception>
                <checkRules>
                    <notNull>
                        <content>4010404</content>
                        <errMsg>请选择医生</errMsg>
                    </notNull>
                </checkRules>
            </sendMsgAction>
        </action> 
    </component>
    
    <component>
        <id>4010419</id>
        <type>Label</type>
        <attribute>
            <rect>
                <x>1400</x>
                <y>1400</y>
                <width>600</width>
                <heigh>150</heigh>
            </rect>
            <text>2104drgh</text>
        </attribute>
        <action>
            <setFontAction>
                <fontSize>45</fontSize>
            </setFontAction>
        </action>
    </component>
    
   <component>
        <id>4010435</id>
        <type>Label</type>
        <attribute>
            <rect>
                <x>1800</x>
                <y>1800</y>
                <width>600</width>
                <heigh>150</heigh>
            </rect>
            <text>xxxx</text>
        </attribute>
        <action>
            <setFontAction>
                <fontSize>45</fontSize>
            </setFontAction>
        </action>
    </component>
    
     <!--挂号预处理返回的cargo数据-->
     <component>
        <id>4010455</id>
        <type>TextField</type>
        <attribute>
            <rect>
                <x>2000</x>
                <y>2000</y>
                <width>400</width>
                <heigh>50</heigh>
            </rect>
        </attribute>
    </component>
    
</panel>
